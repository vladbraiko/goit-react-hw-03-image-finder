{"version":3,"sources":["components/Modal/Modal.module.css","App.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","services/fetchData.js","App.js","index.js","components/ImageGallery/ImageGallery.module.css"],"names":["module","exports","Searchbar","state","query","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","this","className","styles","SearchForm","type","SearchForm_button","SearchForm_input","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","webformatURL","tags","click","largeImageURL","href","onClick","src","alt","ImageGalleryItem_image","ImageGallery","images","map","id","key","Button","modalRoot","document","querySelector","Modal","window","addEventListener","onKeyDown","removeEventListener","children","onBackdropClick","createPortal","Overlay","React","searchQuery","currentPage","axios","get","App","responsePage","largeImage","isLoading","fetchImages","fetchData","then","res","prevState","data","hits","catch","error","console","log","finally","handleChangeQuery","openImageinModal","closeModal","handleBackdropClick","target","handleKeyDown","code","prevProprs","length","scrollTo","top","documentElement","offsetHeight","behavior","color","height","width","loader","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.82d56984.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__16ZpL\",\"loader\":\"App_loader__2fptQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__1P7Nb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__DjWH3\",\"SearchForm\":\"Searchbar_SearchForm__1ac2l\",\"SearchForm_button\":\"Searchbar_SearchForm_button__3eKQ3\",\"SearchForm_button_label\":\"Searchbar_SearchForm_button_label__5zUwS\",\"SearchForm_input\":\"Searchbar_SearchForm_input__11BIx\"};","import React, { Component } from 'react';\r\nimport styles from './Searchbar.module.css';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    query: '',\r\n  };\r\n\r\n  handleChange = e => {\r\n    this.setState({\r\n      query: e.currentTarget.value,\r\n    });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    this.props.onSubmit(this.state);\r\n\r\n    this.setState({ query: '' });\r\n  };\r\n\r\n  render() {\r\n    const { query } = this.state;\r\n    return (\r\n      <header className={styles.Searchbar}>\r\n        <form onSubmit={this.handleSubmit} className={styles.SearchForm}>\r\n          <button type=\"submit\" className={styles.SearchForm_button}></button>\r\n          <input\r\n            className={styles.SearchForm_input}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search image and fotos\"\r\n            onChange={this.handleChange}\r\n            value={query}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import React from 'react';\r\nimport styles from './ImageGalleryItem.module.css';\r\nimport Proptypes from 'prop-types';\r\n\r\nconst ImageGalleryItem = ({ webformatURL, tags, click, largeImageURL }) => {\r\n  return (\r\n    <>\r\n      <a href={largeImageURL} onClick={click}>\r\n        <img\r\n          src={webformatURL}\r\n          alt={tags}\r\n          className={styles.ImageGalleryItem_image}\r\n        />\r\n      </a>\r\n    </>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: Proptypes.string.isRequired,\r\n  tags: Proptypes.string.isRequired,\r\n  click: Proptypes.func.isRequired,\r\n  largeImageURL: Proptypes.string.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from 'react';\r\nimport Proptypes, { shape } from 'prop-types';\r\nimport ImageGalleryItem from '../ImageGalleryItem';\r\nimport styles from './ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({ images, click }) => {\r\n  return (\r\n    <>\r\n      <ul className={styles.ImageGallery}>\r\n        {images.map(({ id, webformatURL, tags, largeImageURL }) => (\r\n          <li key={id} className={styles.ImageGalleryItem}>\r\n            <ImageGalleryItem\r\n              webformatURL={webformatURL}\r\n              tags={tags}\r\n              click={click}\r\n              largeImageURL={largeImageURL}\r\n            />\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  images: Proptypes.arrayOf(shape({ id: Proptypes.number.isRequired }))\r\n    .isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React from 'react';\r\nimport styles from './Button.module.css';\r\nimport Proptypes from 'prop-types';\r\n\r\nconst Button = ({ onClick }) => {\r\n  return (\r\n    <button type=\"button\" onClick={onClick} className={styles.Button}>\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  onClick: Proptypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import React from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport styles from './Modal.module.css';\r\nimport Proptypes from 'prop-types';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends React.Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.props.onKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.props.onKeyDown);\r\n  }\r\n\r\n  render() {\r\n    const { children, onBackdropClick } = this.props;\r\n\r\n    return createPortal(\r\n      <div className={styles.Overlay} onClick={onBackdropClick}>\r\n        <div className={styles.Modal}>{children}</div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  children: Proptypes.element.isRequired,\r\n  onBackdropClick: Proptypes.func.isRequired,\r\n};\r\n\r\nexport default Modal;\r\n","import axios from 'axios';\r\n\r\nexport default (searchQuery, currentPage) => {\r\n  const apiKey = '16192319-9ae9d95026dacaeb88e2fcf6c';\r\n\r\n  return axios.get(\r\n    `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${searchQuery}&page=${currentPage}&per_page=12&key=${apiKey}`,\r\n  );\r\n};\r\n","import React from 'react';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport Modal from './components/Modal';\nimport Loader from 'react-loader-spinner';\nimport fetchData from './services/fetchData';\nimport styles from './App.module.css';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nclass App extends React.Component {\n  state = {\n    searchQuery: '',\n    responsePage: 1,\n    images: [],\n    largeImage: '',\n    isLoading: false,\n  };\n\n  componentDidUpdate(prevProprs, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchImages();\n    }\n\n    if (prevState.images.length !== this.state.images.length) {\n      window.scrollTo({\n        top: document.documentElement.offsetHeight,\n        behavior: 'smooth',\n      });\n    }\n  }\n\n  fetchImages = () => {\n    const { responsePage, searchQuery } = this.state;\n\n    this.setState({ isLoading: true });\n\n    fetchData(searchQuery, responsePage)\n      .then(res => {\n        this.setState(prevState => ({\n          images: [...prevState.images, ...res.data.hits],\n          responsePage: prevState.responsePage + 1,\n        }));\n      })\n      .catch(error => console.log(error))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  handleChangeQuery = ({ query }) => {\n    this.setState({ searchQuery: query, responsePage: 1, images: [] });\n  };\n\n  openImageinModal = e => {\n    e.preventDefault();\n\n    this.setState({\n      largeImage: e.currentTarget.href,\n    });\n  };\n\n  closeModal = () => {\n    this.setState({ largeImage: '' });\n  };\n\n  handleBackdropClick = e => {\n    if (e.target === e.currentTarget) {\n      this.closeModal();\n    }\n  };\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.closeModal();\n    }\n  };\n\n  render() {\n    const { images, isLoading, largeImage } = this.state;\n\n    return (\n      <div className={styles.App}>\n        <Searchbar onSubmit={this.handleChangeQuery} />\n        <ImageGallery images={images} click={this.openImageinModal} />\n        {largeImage && (\n          <Modal\n            onBackdropClick={this.handleBackdropClick}\n            onKeyDown={this.handleKeyDown}\n          >\n            <img src={largeImage} alt={largeImage} />\n          </Modal>\n        )}\n        {isLoading && (\n          <Loader\n            type=\"ThreeDots\"\n            color=\"#3618df\"\n            height={80}\n            width={80}\n            className={styles.loader}\n          />\n        )}\n        {images.length > 0 && !isLoading && (\n          <Button onClick={this.fetchImages} />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'modern-normalize/modern-normalize.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\",\"ImageGalleryItem\":\"ImageGallery_ImageGalleryItem__30xkQ\"};"],"sourceRoot":""}